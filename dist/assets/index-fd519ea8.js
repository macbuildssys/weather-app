(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function y(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=y(a);fetch(a.href,n)}})();const{createApp:H,ref:f}=Vue;H({setup(){const h=f(""),c=f("open-meteo"),y=f(null),s=f(""),a=f(!1),n={Cairo:{lat:30.0444,lon:31.2357},Lagos:{lat:6.5244,lon:3.3792},Nairobi:{lat:-1.2921,lon:36.8219},Johannesburg:{lat:-26.2041,lon:28.0473},"Cape Town":{lat:-33.9249,lon:18.4241},Casablanca:{lat:33.5731,lon:-7.5898},Accra:{lat:5.6037,lon:-.187},"Addis Ababa":{lat:9.0389,lon:38.762},"Dar es Salaam":{lat:-6.8235,lon:39.2695},Kinshasa:{lat:-4.4419,lon:15.2663},Alexandria:{lat:31.2001,lon:29.9187},Algiers:{lat:36.7538,lon:3.0588},Tunis:{lat:36.8065,lon:10.1815},Marrakech:{lat:31.6295,lon:-7.9811},Durban:{lat:-29.8587,lon:31.0218},Tokyo:{lat:35.6762,lon:139.6503},Delhi:{lat:28.6139,lon:77.209},Shanghai:{lat:31.2304,lon:121.4737},Mumbai:{lat:19.076,lon:72.8777},Beijing:{lat:39.9042,lon:116.4074},Seoul:{lat:37.5665,lon:126.978},Bangkok:{lat:13.7563,lon:100.5018},Jakarta:{lat:-6.2088,lon:106.8456},Manila:{lat:14.5995,lon:120.9842},"Hong Kong":{lat:22.3193,lon:114.1694},Singapore:{lat:1.3521,lon:103.8198},"Kuala Lumpur":{lat:3.139,lon:101.6869},Dubai:{lat:25.2048,lon:55.2708},Istanbul:{lat:41.0082,lon:28.9784},Taipei:{lat:25.033,lon:121.5654},"Ho Chi Minh City":{lat:10.8231,lon:106.6297},Bangalore:{lat:12.9716,lon:77.5946},Chennai:{lat:13.0827,lon:80.2707},Karachi:{lat:24.8607,lon:67.0011},Osaka:{lat:34.6937,lon:135.5023},Shenzhen:{lat:22.5431,lon:114.0579},Guangzhou:{lat:23.1291,lon:113.2644},Dhaka:{lat:23.8103,lon:90.4125},Tehran:{lat:35.6892,lon:51.389},Riyadh:{lat:24.7136,lon:46.6753},Jerusalem:{lat:31.7683,lon:35.2137},London:{lat:51.5074,lon:-.1278},Paris:{lat:48.8566,lon:2.3522},Berlin:{lat:52.52,lon:13.405},Madrid:{lat:40.4168,lon:-3.7038},Rome:{lat:41.9028,lon:12.4964},Moscow:{lat:55.7558,lon:37.6176},Amsterdam:{lat:52.3676,lon:4.9041},Barcelona:{lat:41.3851,lon:2.1734},Milan:{lat:45.4642,lon:9.19},Vienna:{lat:48.2082,lon:16.3738},Prague:{lat:50.0755,lon:14.4378},Brussels:{lat:50.8503,lon:4.3517},Copenhagen:{lat:55.6761,lon:12.5683},Stockholm:{lat:59.3293,lon:18.0686},Athens:{lat:37.9838,lon:23.7275},Lisbon:{lat:38.7223,lon:-9.1393},Dublin:{lat:53.3498,lon:-6.2603},Warsaw:{lat:52.2297,lon:21.0122},Budapest:{lat:47.4979,lon:19.0402},Munich:{lat:48.1351,lon:11.582},Hamburg:{lat:53.5511,lon:9.9937},Frankfurt:{lat:50.1109,lon:8.6821},Zurich:{lat:47.3769,lon:8.5417},Helsinki:{lat:60.1699,lon:24.9384},Oslo:{lat:59.9139,lon:10.7522},"New York":{lat:40.7128,lon:-74.006},"Los Angeles":{lat:34.0522,lon:-118.2437},Chicago:{lat:41.8781,lon:-87.6298},Toronto:{lat:43.6511,lon:-79.347},"Mexico City":{lat:19.4326,lon:-99.1332},Vancouver:{lat:49.2827,lon:-123.1207},"San Francisco":{lat:37.7749,lon:-122.4194},"Washington D.C.":{lat:38.9072,lon:-77.0369},Boston:{lat:42.3601,lon:-71.0589},Seattle:{lat:47.6062,lon:-122.3321},Miami:{lat:25.7617,lon:-80.1918},Montreal:{lat:45.5017,lon:-73.5673},Atlanta:{lat:33.749,lon:-84.388},Houston:{lat:29.7604,lon:-95.3698},Philadelphia:{lat:39.9526,lon:-75.1652},Phoenix:{lat:33.4484,lon:-112.074},"Las Vegas":{lat:36.1699,lon:-115.1398},Denver:{lat:39.7392,lon:-104.9903},Austin:{lat:30.2672,lon:-97.7431},Dallas:{lat:32.7767,lon:-96.797},"São Paulo":{lat:-23.5505,lon:-46.6333},"Rio de Janeiro":{lat:-22.9068,lon:-43.1729},"Buenos Aires":{lat:-34.6037,lon:-58.3816},Lima:{lat:-12.0464,lon:-77.0428},Bogotá:{lat:4.711,lon:-74.0721},Santiago:{lat:-33.4489,lon:-70.6693},Caracas:{lat:10.4806,lon:-66.9036},Quito:{lat:-.1807,lon:-78.4678},Medellín:{lat:6.2442,lon:-75.5812},Brasília:{lat:-15.7942,lon:-47.8822},Montevideo:{lat:-34.9011,lon:-56.1645},"La Paz":{lat:-16.498,lon:-68.15},"Belo Horizonte":{lat:-19.9167,lon:-43.9345},"Porto Alegre":{lat:-30.0346,lon:-51.2177},Recife:{lat:-8.0578,lon:-34.8829},Salvador:{lat:-12.9714,lon:-38.5014},Sydney:{lat:-33.8688,lon:151.2093},Melbourne:{lat:-37.8136,lon:144.9631},Brisbane:{lat:-27.4698,lon:153.0251},Perth:{lat:-31.9505,lon:115.8605},Adelaide:{lat:-34.9285,lon:138.6007},Auckland:{lat:-36.8485,lon:174.7633},Wellington:{lat:-41.2865,lon:174.7762},Christchurch:{lat:-43.5321,lon:172.6362},Hobart:{lat:-42.8826,lon:147.3272},Canberra:{lat:-35.2809,lon:149.13},"McMurdo Station":{lat:-77.846,lon:166.675},"Palmer Station":{lat:-64.773,lon:-64.052}},p=t=>{const o={clear:"fas fa-sun",rain:"fas fa-cloud-rain",cloudy:"fas fa-cloud",snow:"fas fa-snowflake",storm:"fas fa-bolt",fog:"fas fa-smog"};return o[t]||o.clear},O=t=>{const o=t.trim();return Object.prototype.hasOwnProperty.call(n,o)},u=(t,o=!1)=>o?{clearsky_day:"clear",clearsky_night:"clear",fair_day:"clear",fair_night:"clear",partlycloudy_day:"cloudy",partlycloudy_night:"cloudy",cloudy:"cloudy",rainshowers_day:"rain",rainshowers_night:"rain",rainshowers_polar_twilight:"rain",rain:"rain",heavyrain:"rain",heavyrainandthunder:"storm",snow:"snow",snowandthunder:"storm",snowshowers_day:"snow",snowshowers_night:"snow",fog:"fog"}[t]||"clear":{0:"clear",1:"clear",2:"cloudy",3:"cloudy",45:"fog",48:"fog",51:"rain",53:"rain",55:"rain",56:"rain",57:"rain",61:"rain",63:"rain",65:"rain",66:"rain",67:"rain",71:"snow",73:"snow",75:"snow",77:"snow",80:"rain",81:"rain",82:"rain",85:"snow",86:"snow",95:"storm",96:"storm",99:"storm"}[t]||"clear",x=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},w=t=>{const o=new Date(t),l=o.getDate(),e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][o.getMonth()];return`${o.toLocaleDateString("en-US",{weekday:"long"})}, ${l}${x(l)} ${e}`},N=async(t,o)=>{const l=`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${o}&timezone=auto&current_weather=true&daily=weathercode,temperature_2m_max,temperature_2m_min&hourly=temperature_2m,weathercode`,d=await fetch(l);if(!d.ok)throw new Error("Open-Meteo request failed");const e=await d.json(),g={temp:Math.round(e.current_weather.temperature),condition:u(e.current_weather.weathercode),date:w(e.current_weather.time)},M=e.daily.time.map((m,i)=>({date:w(m),temp:Math.round((e.daily.temperature_2m_max[i]+e.daily.temperature_2m_min[i])/2),condition:u(e.daily.weathercode[i])})).slice(0,5),S=e.hourly.time.map((m,i)=>({time:new Date(m).toLocaleTimeString([],{hour:"2-digit"}),temp:Math.round(e.hourly.temperature_2m[i]),condition:u(e.hourly.weathercode[i])})).slice(0,24);return{current:g,daily:M,hourly:S}},T=async(t,o)=>{var C,L,P,k;const l=`https://api.met.no/weatherapi/locationforecast/2.0/complete?lat=${t}&lon=${o}`,d=await fetch(l,{headers:{"User-Agent":"TWA-Forecast (github.com/yourname)"}});if(!d.ok)throw new Error("Yr.no request failed");const e=await d.json(),g=e.properties.timeseries[0].data.instant.details,M=((C=e.properties.timeseries[0].data.next_1_hours)==null?void 0:C.summary.symbol_code)||((L=e.properties.timeseries[0].data.next_6_hours)==null?void 0:L.summary.symbol_code),S={temp:Math.round(g.air_temperature),condition:u(M,!0),date:w(e.properties.timeseries[0].time)},m=[];let v=new Date().getDate(),A=0;for(const r of e.properties.timeseries){const _=new Date(r.time);if(_.getDate()!==v){if(v=_.getDate(),A>=5)break;const D=r.data.instant.details,b=((P=r.data.next_6_hours)==null?void 0:P.summary.symbol_code)||((k=r.data.next_12_hours)==null?void 0:k.summary.symbol_code);m.push({date:w(r.time),temp:Math.round(D.air_temperature),condition:u(b,!0)}),A++}}const $=e.properties.timeseries.slice(0,24).map(r=>{var b,B;const _=r.data.instant.details,D=((b=r.data.next_1_hours)==null?void 0:b.summary.symbol_code)||((B=r.data.next_6_hours)==null?void 0:B.summary.symbol_code);return{time:new Date(r.time).toLocaleTimeString([],{hour:"2-digit"}),temp:Math.round(_.air_temperature),condition:u(D,!0)}});return{current:S,daily:m,hourly:$}};return{city:h,source:c,weatherData:y,error:s,loading:a,getWeatherIcon:p,handleSearch:async()=>{if(!h.value.trim()){s.value="Please enter a city or location.";return}a.value=!0,s.value="",y.value=null;try{if(!O(h.value))throw new Error("Failed to fetch weather data. Please try another location.");const{lat:t,lon:o}=n[h.value],l=c.value==="open-meteo"?await N(t,o):await T(t,o);y.value=l}catch(t){s.value=t.message||"Something went wrong."}finally{a.value=!1}}}}}).mount("#app");
